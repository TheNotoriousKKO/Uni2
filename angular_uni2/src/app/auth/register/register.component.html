<div class="register-bg">
  <div id="app" class="academic-animation">
    <div class="papers" style="--total: 5">
      <div class="paper -rogue" style="--i: 0">
        <div class="segment">
          <div class="segment">
            <div class="segment">
              <div class="segment">
                <div class="segment"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="paper" style="--i: 1">
        <div class="segment">
          <div class="segment">
            <div class="segment">
              <div class="segment">
                <div class="segment"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="paper" style="--i: 2">
        <div class="segment">
          <div class="segment">
            <div class="segment">
              <div class="segment">
                <div class="segment"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="paper" style="--i: 3">
        <div class="segment">
          <div class="segment">
            <div class="segment">
              <div class="segment">
                <div class="segment"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="paper" style="--i: 4">
        <div class="segment">
          <div class="segment">
            <div class="segment">
              <div class="segment">
                <div class="segment"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="shadow">
      <div class="paper-shadow" style="--i: 0"></div>
      <div class="paper-shadow" style="--i: 1"></div>
      <div class="paper-shadow" style="--i: 2"></div>
      <div class="paper-shadow" style="--i: 3"></div>
      <div class="paper-shadow" style="--i: 4"></div>
    </div>
  </div>
  <div class="register-content">
    <div class="register-card fade-in">
      <h1>Register</h1>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="username">Username</label>
          <input 
            type="text" 
            id="username" 
            formControlName="username" 
            class="form-control"
            [class.error]="isFieldInvalid('username')"
            autocomplete="username"
          >
          <div class="error-message" *ngIf="isFieldInvalid('username')">
            Username is required
          </div>
        </div>
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input 
            type="text" 
            id="firstName" 
            formControlName="firstName" 
            class="form-control"
            [class.error]="isFieldInvalid('firstName')"
            autocomplete="given-name"
          >
          <div class="error-message" *ngIf="isFieldInvalid('firstName')">
            First name is required
          </div>
        </div>
        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input 
            type="text" 
            id="lastName" 
            formControlName="lastName" 
            class="form-control"
            [class.error]="isFieldInvalid('lastName')"
            autocomplete="family-name"
          >
          <div class="error-message" *ngIf="isFieldInvalid('lastName')">
            Last name is required
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input 
            type="password" 
            id="password" 
            formControlName="password" 
            class="form-control"
            [class.error]="isFieldInvalid('password')"
            autocomplete="new-password"
          >
          <div class="error-message" *ngIf="isFieldInvalid('password')">
            Password is required (minimum 6 characters)
          </div>
        </div>
        <div class="form-group">
          <label for="role">Role</label>
          <select 
            id="role" 
            formControlName="role" 
            class="form-control"
            [class.error]="isFieldInvalid('role')"
          >
            <option value="">Select a role</option>
            <option value="STUDENT">Student</option>
            <option value="TEACHER">Teacher</option>
          </select>
          <div class="error-message" *ngIf="isFieldInvalid('role')">
            Please select a role
          </div>
        </div>
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>
        <div class="success-message" *ngIf="successMessage">
          {{ successMessage }}
        </div>
        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="registerForm.invalid || isLoading"
        >
          {{ isLoading ? 'Registering...' : 'Register' }}
        </button>
      </form>
      <div class="login-link">
        <p>Already have an account? <a routerLink="/login">Login here</a></p>
      </div>
    </div>
  </div>
</div> 